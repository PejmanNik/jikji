"use strict";(self.webpackChunk_jikji_website=self.webpackChunk_jikji_website||[]).push([[419],{3408:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return m}});var a=n(3289);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=a.createContext({}),p=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=p(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(f,i(i({ref:t},l),{},{components:n})):a.createElement(f,i({ref:t},l))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6188:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return u}});var a=n(744),o=n(4690),r=(n(3289),n(3408)),i=["components"],s={sidebar_position:5},c="Inject Json Data",p={unversionedId:"inject-json-data",id:"inject-json-data",title:"Inject Json Data",description:"This feature let you provide a JSON object to the ReportBuilder on the report building process and have access to your data in the react components. in order to use it, you need to wrap the sections with InjectJsonData component and the call useJsonData hook in your component to have access to that data.",source:"@site/docs/inject-json-data.md",sourceDirName:".",slug:"/inject-json-data",permalink:"/docs/inject-json-data",draft:!1,editUrl:"https://github.com/PejmanNik/jikji/edit/main/docs/docs/docs/inject-json-data.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Styling",permalink:"/docs/styling"},next:{title:"Plugin",permalink:"/docs/plugin"}},l={},u=[{value:"Provider",id:"provider",level:2},{value:"Props",id:"props",level:3},{value:"Consumer",id:"consumer",level:2},{value:"Sample",id:"sample",level:2}],d={toc:u};function m(e){var t=e.components,n=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"inject-json-data"},"Inject Json Data"),(0,r.kt)("p",null,"This feature let you provide a JSON object to the ",(0,r.kt)("a",{parentName:"p",href:"./generator/"},"ReportBuilder")," on the report building process and have access to your data in the react components. in order to use it, you need to wrap the sections with ",(0,r.kt)("a",{parentName:"p",href:"#provider"},"InjectJsonData")," component and the call ",(0,r.kt)("inlineCode",{parentName:"p"},"useJsonData")," hook in your component to have access to that data."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This feature is only supported in SSG mode and will raise an exception in CSR (",(0,r.kt)("a",{parentName:"p",href:"./csr-vs-ssg"},"CSR vs SSG"),").")),(0,r.kt)("h2",{id:"provider"},"Provider"),(0,r.kt)("p",null,"Provider component ",(0,r.kt)("inlineCode",{parentName:"p"},"InjectJsonData")," reads the file data, convert it to JSON, and injects the data into all consumer components that appear as children of it."),(0,r.kt)("p",null,"As recommendation, You can put this component as a direct children of ",(0,r.kt)("inlineCode",{parentName:"p"},"ReportRoot")," component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'const jsonData: JsonModel = {\n  title: "Test injection \ud83d\udc89",\n};\n\n<InjectJsonData defaultValue={jsonData}>...</InjectJsonData>;\n')),(0,r.kt)("h3",{id:"props"},"Props"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Is Required"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"defaultValue"),(0,r.kt)("td",{parentName:"tr",align:"left"},"unknown"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:"left"},"For debugging purposes, Used when the app is not in SSG mode, Default: null")))),(0,r.kt)("h2",{id:"consumer"},"Consumer"),(0,r.kt)("p",null,"For using the injected data, call the ",(0,r.kt)("inlineCode",{parentName:"p"},"useJsonData")," hook. It accepts only one generic type and will return the data with that type."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const data:T = useJsonData<T>();\n")),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("inlineCode",{parentName:"p"},"useJsonData")," hook is ",(0,r.kt)("strong",{parentName:"p"},"not")," type-safe. you must manually take care of the compatibility of your JSON file with the provided generic type (",(0,r.kt)("inlineCode",{parentName:"p"},"T"),") to this hook.")),(0,r.kt)("h2",{id:"sample"},"Sample"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'interface JsonModel {\n  title: string;\n  table: { index: number, caption: string }[];\n}\n\nconst jsonData: JsonModel = {\n  title: "Test injection \ud83d\udc89",\n  table: [\n    { index: 1, caption: "data" },\n    { index: 2, caption: "more data" },\n  ],\n};\n\nfunction AwesomeData()\n{\n  const data = useJsonData<JsonModel>();\n\n  return <div>\n      <h1>{data.title}</h1>\n  </div>\n}\n\n<ReportRoot>\n  <InjectJsonData defaultValue={jsonData}>\n    <Section>\n      <PageContent>\n        <AwesomeData />\n      </PageContent>\n    </Section>\n  </InjectJsonData>\n</ReportRoot>;\n')))}m.isMDXComponent=!0}}]);